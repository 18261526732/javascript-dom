<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 数组的创建
    // 方式一：使用字面量(最常用)
    var arr = [1,2,3,4,true,false,'q','w',['e','r']];
    console.log(arr.length);//9

    // 方式二：使用Array()
    // 参数是数组的（初始化）长度，赋值超过初始化长度时，数组长度会更改
    var arr1 = new Array(5);
    console.log(arr1.length);//5
    // 给数组赋值
    arr1[0] = 'hello';
    arr1[1] = '3';
    arr1[2] = 3;
    arr1[3] = true;
    arr1[4] = [6,7,8];
    console.log(arr1);
    // 创建一个二维数组
    var arr2 = [[1,2],['q','w']];
    console.log(arr2[0][1]);//2
    // 二维数组中第一个值是最外层数组的下标，第二个是被选中的数组里的下标
    // 创建一个3维数组
    var arr2 = [[1,2,['q','w','r']],3];
    console.log(arr2[0][2][1]);//w

    // 方式三：
    var arr4 = new Array(1,2,3,4,5,6,7,8);
    console.log(arr4);//[1, 2, 3, 4, 5, 6, 7, 8]

    /*数组操作方法：增，删，改，查，循环，，拼接*/
    var arr5 = ['a','b','c',1,2];
    console.log(arr5);// ["a", "b", "c", 1, 2]
    // 1.push() 添加，向数组的末尾添加内容
    arr5.push('v',6,'m');
    console.log(arr5);// ["a", "b", "c", 1, 2, "v", 6, "m"]

    // 2.unshift() 向数组的开头添加内容
    arr5.unshift('n',7);
    console.log(arr5);//["n", 7, "a", "b", "c", 1, 2, "v", 6, "m"]

    // 3.pop() 在数组末尾删除，一次只能删除一个，并且返回一个新的元素，新的元素就是被删除的元素
    var n = arr5.pop();
    console.log(n);//m 
    console.log(arr5);//["n", 7, "a", "b", "c", 1, 2, "v", 6]
    
    // 4.shift() 在数组开头删除，一次只能删除一个，并且返回一个新的元素，新的元素就是被删除的元素
    var m = arr5.shift()
    console.log(m);//n
    console.log(arr5);// [7, "a", "b", "c", 1, 2, "v", 6]
    console.log(arr5[50]);//undefined  超出范围

    /*
    队列：先进先出
    push shift可以构成一个队列
    unshift pop可以构成一个队列

    栈：先进后出
    push pop可以构成一个栈
    unshift shift可以构成一个栈
    */

     // 5.reverse() 修改数组排列顺序，反向排序数组，只能使原有的顺序变成反向，不能按大小顺序排列
     var arr6 = [1,7,3,4,8,5,6];
    console.log(arr6.reverse());//[6, 5, 8, 4, 3, 7, 1]

    // 6.sort() 将数组转换成字符串，在根据Unicode编码进行升序排列，但只能对个位数进行排列
    console.log(arr6.sort());//[1, 3, 4, 5, 6, 7, 8]

    // 7.添加方法，使数组内的数值可以按一定顺序排列
    var p1 = {
        name:'qwer',
        age:5
    }
    var p2 = {
        name:'wer',
        age:4
    }
    var p3 = {
        name:'asdf',
        age:3
    }
    var p4 = {
        name:'sdf',
        age:1
    }
    var p5 = {
        name:'ws',
        age:8
    }
    var arr7 = [p1,p2,p3,p4,p5];
    console.log(arr7);//[{…}, {…}, {…}, {…}, {…}]
    arr7.sort(function(a,b){
        console.log(a.age + 'aaa');//4aaa 2aaa 1aaa 8aaa
        console.log(b.age + 'bbb');//5bbb 4bbb 2bbb 1bbb
        // return a.age - b.age;//从小到大排序
        return b.age - a.age;//从大到小排序
    })
    console.log(arr7);//

    // 8.splice() 删除
    // 参数1：删除索引值及之后所有参数
    // 参数2：删除的长度
    // 参数3以及后面的参数：插入删除的参数后面
    var arr8 = [1,2,3,'a','b','c']; 
    arr8.splice(3);
    console.log(arr8); //[1, 2, 3]
    arr8.splice(3,2);
    console.log(arr8);//[1, 2, 3]
    arr8.splice(3,2,'d','e','f');
    console.log(arr8);//[1, 2, 3, "d", "e", "f"]

    // 9.concat() 拼接数组或值
    var arr9 = arr8.concat([5,6,7],4,'r');
    console.log(arr9);//[1, 2, 3, "d", "e", "f", 5, 6, 7, 4, "r"]

    // 10.join() 将数组转换成一个字符串并返回
    // 可以用括号内的参数替换,
    var arr10 = ['hello','hey','hey everyone'];
    console.log(arr10);//["hello", "hey", "hey everyone"]
    // 连接元素并返回一个字符串
    console.log(arr10.join());//hello,hey,hey everyone
    console.log(arr10.join(''));//helloheyhey everyone 加''去除原数组里的,逗号
    console.log(arr10.join('-'));//hello-hey-hey everyone 
    console.log(arr10.join(null));//hellonullheynullhey everyone
    console.log(arr10.join(undefined));//hello,hey,hey everyone 参数写undefined不做改变
    console.log(arr10.join(0));//hello0hey0hey everyone

    // 11.slice() 截取，从已有数据返回指定元素(注意：返回的是字符串)，参数可以是负值，如果参数不是从小到大就会得到[]
    // 参数一：开始截取位置（保留）
    // 参数二：结束位置（不保留）
    var arr11 = [1,2,'d',3,'a','b','c'];
    console.log(arr11);//[1, 2, "d", 3, "a", "b", "c"]
    console.log(arr11.slice(2));//["d", 3, "a", "b", "c"]
    console.log(arr11.slice(2,5));//["d", 3, "a"]
    console.log(arr11.slice(-4,-2));//[3, "a"] 负值从最后一位开始算，同样是参数一保留，参数二不保留
    console.log(arr11.slice(-2,-4));//[]
    console.log(arr11.slice());// [1, 2, "d", 3, "a", "b", "c"]  没有参数相当于复制一个新的数组

    // 12.indexOf() 检索指定元素，返回其第一次出现的位置找不到返回-1
    console.log(arr11.indexOf('a'));//4

    // 13.lastIndexOf() 从后向前检索，返回数组第一次出现的位置
    var arr12 = [1,2,3,4,'b','y','e','b','a'];
    console.log(arr12.lastIndexOf('b'));//7

    // 14.遍历数组中每一个值
    for(var i =0;i<arr12.length;i++){
        var element = arr12[i];
        console.log(element);
    }
    
    // 15.forEach() 数组自带的循环方法:参数是一个回调函数
    /*回调函数中的3个参数：
        参数一：表示数组中的元素
        参数二：表示数组中的索引
        参数三：表示数组本身
    */
    // 第一种写法
    arr12.forEach(function(element,index,arr){
        console.log(`元素值:${element},索引值:${index},数组本身:${arr}`);
    });
    // 第二种方法：ES6的箭头函数
    arr12.forEach((element,index,arr)=>{
        console.log(`元素值:${element},索引值:${index},数组本身:${arr}`);
    });

    // 16.find() 查找符合条件的第一个元素并返回该元素，找不到返回undefined
    var arr13 = [1,2,3,'cc','dd',4,5,'cc'];
    var newArray = arr12.find((ele,index,arr)=>{
        return ele ==3;
    });
    console.log(newArray);//3
    
    // 17.findIndex() 查找符合条件的第一个元素并返回该元素索引值，找不到返回-1
    var newArray1 = arr12.findIndex(function(ele){
        return ele == 3;
    });
    console.log(newArray1);//2

    // 18.Array.from()
    var a = 'abnv';
    /*
    类数组：
    1.具有索引属性（数字）
    2.具有长度属性length
    可迭代对象：可以被循环的对象
    数据使用for...in...循环，依次从中拿取数据进行使用，这样的过程叫做迭代或者遍历
    */
    console.log(a);//abnv
    // 从类数组或者可以迭代对象中创建一个新的数组实例，直接将字符串变成数组
    var arr = Array.from(a);
    console.log(arr);// ["a", "b", "n", "v"]

    // 19. document.getElementsByTagName() 获取页面中的指定标签，再以类数组方式返回
    var meta = document.getElementsByTagName('meta');
    console.log(meta);//HTMLCollection(2) [meta, meta, viewport: meta]

    // 20. Array.of() 将参数转换成数组，功能类似于创造一个数组
    var arr14 = Array.of(1,2,'a','b',true,false)
    console.log(arr14);// [1, 2, "a", "b", true, false]

    // 21. Array.isArray() 判断是否为数组，是返回true，不是返回false
    console.log(Array.isArray(arr14));//true
    console.log(Array.isArray(meta));//false

    // 22. toString() 把数组转换成字符串
    var str = arr14.toString();
    console.log(str);//1,2,a,b,true,false

    // 23. every() 测试数组中的每一个元素，都满足条件时返回true，否则返回false
    var arr13 = [1,2,3,4,5];
    var result = arr13.every(function(ele,index,arr){
        return ele%2 == 0;
    })
    console.log(result);//false

    // 24.some() 测试数组中的每一个元素，只要有一个满足条件就输出true
    var result1 = arr13.some((ele,index,arr)=>{
        return ele%2 ==0;
    })
    console.log(result1);//true

    // 25. filter() 从数组中过滤一部分元素，形成一个新的数组
    var result2 = arr13.filter((ele,index,arr)=>{
        return ele%2 ==0;
    })
    console.log(result2);// [2, 4]

    // 26. map() 每个数组中的元素都会执行函数并返回执行后的结果，形成一个新的数组
    var arr4 = [1,2,3,4,5,6,7,8];
    var p = {name:'zhangsan'};
    // p就是一个函数对象
    var result3 = arr4.map(function(ele,index,arr){
        console.log(this.name);//zhangsan
        // this在这里指的是p对象
        return Math.pow(ele,3);
        // 3次方
    },p);
    // 第二个函数执行回调函数时this的指向{name:'zhangsan'}
    console.log(result3);//[1, 8, 27, 64, 125, 216, 343, 512]

    // 27. reduce() 迭代
    var result4 = result3.reduce((acc,value,index,arr)=>{
        console.log(acc);//5 6 14 41 105 230 446 789
        // acc 是累加器，如果value表示数组中正在处理，的元素有第二个参数，acc第一次执行时等于它的第二个参数（第二个参数就是第一个参数也就是函数的初始值）
        return acc + value;
    },5)
    console.log(result4);//1301
    // 第一次执行的参数就是value第二个参数
    </script>
</body>
</html>