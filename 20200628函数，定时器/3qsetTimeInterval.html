<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 计时器机制
        // setInterval  每隔多少毫秒执行一次 回调函数  无限循环的执行
        // 需要一个停止执行的出口：也就是清空计数器  clearInterval

        // 如果不清空计时器  会导致 页面的性能特别差 
        //  要了解具体清空的是哪一个计时器 -----> timer 表示每一个计时器的身份
        // var x = 0;
        // // setInterval 
        // var timer = setInterval(function(){
        //  x ++;
        //  console.log(x)
        //  if(x > 10){
        //      clearInterval(timer)
        //  }
        // },1500)//给无限循环添加的出口 停止无限循环
        // // console.log(timer)

        // for(var i = 0; i < 3; i++){
        //     var x = 0;
        //     //setInterval 执行3次
        //     var timer = setInterval(function(){
        //         //执行3N次
        //         console.log('222')

        //         // 坑（比较容易出bug）  在这里清空的不知道是哪一个计时器
        //         clearInterval(timer)//清空的是最后一次的计时器
        //     },500);
        //     console.log(timer,'=======') //timer 形成多个 需要清空每一个

        // }

            var timer;
        for(var i = 0; i < 3; i++){
            var x = 0;
        
            timer = setInterval(function(){
                 console.log('222')
            },500);
            console.log(timer,'=======') 
            //clearInterval(timer) //清掉了多个timer  导致setInterval失效了
            // ------>如何解决失效问题？ 慢点
            //------->异步

            //坑三 清空同一个计时器timer 清了三次
            setTimeout(function(){
                console.log(timer)
                clearInterval(timer)
            },501) 


            // -----> 目的：需要知道 分别保存timer的值  为1，2，3 彼此独立 互不干扰

        }
    </script>
</body>
</html>