<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>皆为序章</h1>
    <h1>皆为序章</h1>
    <h1>皆为序章</h1>
    <h1>皆为序章</h1>
    <h1>皆为序章</h1>
    <script>
        // 第一个功能
        // var h1s = document.getElementsByTagName('h1');
        // for( var i = 0; i < h1s.length; i++){
        //     console.log(h1s[i])
        //     h1s[i].onclick = function(){
        //         // 坑：btn [i] 不存在 因为异步 这里的程序比for循环还慢
        //         // console.log(i,this)
        //         // 需求 ： 找到点击的元素
        //         this.style.color = 'blue'
        //     }
        // }

            // 
        // var h1s = document.getElementsByTagName('h1');
        // for (var i = 0; i < h1s.length; i++){
        //     // console.log([i])
        //     (function(){
        //         var flag = true;
        //         h1s[i].onclick = function(){
        //             flag = !flag;
        //             flag ? (this.style.color = '') : (this.style.color = 'blue')
        //         }
        //     })();
        // };

            // 解决异步程序慢的问题
        // var h1s = document.getElementsByTagName('h1');
        // for(var i = 0;i < h1s.length; i++){
        //     (function(){
        //         var flag = true;
        //         var x = i;
        //         h1s[x].onclick = function(){
        //             flag ? (h1s[x].style.color = 'blue') : (h1s[x].style.color = '')
        //             flag = !flag;
        //         }
        //     })();
        // }

            // 给对象添加私有属性
        var h1s = document.getElementsByTagName('h1');
        for(var i = 0;i < h1s.length; i++){
            (function(){
                var flag = true;
                // 给5个dom对象 分贝添加私有属性i 并赋不同的初始值
                h1s[i].i = i;
                // 适用对象下的私有对象
                h1s[i].onclick = function(){
                    flag ? (h1s[this.i].style.color = 'blue') : (h1s[this.i].style.color = '')
                    flag = !flag;
                }
            })();
        }


            // // 给对象添加私有属性 不使用闭包
        // var h1s = document.getElementsByTagName('h1');
        // for(var i = 0;i < h1s.length; i++){
            
        //        h1s[i].flag = true;
        //         // 给5个dom对象 分贝添加私有属性i 并赋不同的初始值
        //         h1s[i].i = i;
        //         // 适用对象下的私有对象
        //         h1s[i].onclick = function(){
        //             this.flag ? (h1s[this.i].style.color = 'blue') : (h1s[this.i].style.color = '')
        //             this.flag = !this.flag;
        //         }
        //     };
        
        
    </script>
</body>
</html>