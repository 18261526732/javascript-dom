<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,body {
            width: 100%;
            height: 100%;
            background-color: thistle;
        }
        * {
            margin:  0;
            padding: 0;
            list-style: none;
            box-sizing: border-box;
        }
        input {
            outline: none;
            border: 1px solid #ccc;
            height: 35px;
            padding-left: 15px;
            width: 300px;
            color: #ccc;
        }
        .head {
            width: 300px;
            margin:10px auto;
            display: flex;
            justify-content: center;
        }
        #add {
            width: 55px;
            height: 35px;
            appearance: none;
            border: none;
            outline: none;
            background:#ccc;
        }
        main {
            width: 500px;
            background-color: #fff;
            padding: 10px;
            margin: 0 auto;
        }
        .content {
            padding: 20px 45px 20px 45px
        }
        .content li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0px;
            height: 35px;
        }
        .content .deletEl {
            background-color: #ccc;
            width: 45px;
            height: 25px;
            text-align: center;
            line-height: 25px;
            color: #575151;
        }
        .check{
            width: 25px;
            height: 25px;

        }
        .deletLine{
            text-decoration:line-through
        }
    </style>
</head>
<body>
    <main>

        <div class="head">
            <input id="ipt" type="text" placeholder="新增内容" >
            <div><button id="add">新增</button></div>
        </div>
        <div class="content">
            <ul>
                <li>
                    <input class="check" type="checkbox">
                    <span class="spans">这是内容</span>
                    <div class="deletEl">删除</div>
                </li>
            </ul>
        </div>
    </main>
    <script>

        // 语法
        // 父元素.insertBefor(new,child) 表示在某个子元素之前插入一个元素节点
        // ---->new 是新元素  需要被插入的元素
        // ---->child 参照的子元素
        // wrap.insertBefore(pNode,center)
        // 初始化获取一次
       var ipt = document.querySelector('#ipt');
       var addBtn = document.querySelector('#add')
       var ulNode = document.querySelector('.content>ul')
       var check1 = document.querySelector('.check')
       var span = document.getElementsByClassName('spans')[0]
       
        deleteItem();
       addBtn.onclick = function(){
           var val = ipt.value;
           var liNode = document.createElement('li');
           var span = document.createElement('span');
           var div = document.createElement('div');
           var check = document.createElement('input')
           check.className = 'check';
           check.type = 'checkbox'
           console.log(check)
           div.innerHTML = '删除';
           div.className = 'deletEl';

           span.innerHTML = val;
           liNode.appendChild(span);
           liNode.appendChild(div);
           liNode.insertBefore(check,span)

        // 把li添加到ul上
           ulNode.appendChild(liNode)
           ipt.value = '';

           deleteItem();


        
           check.onclick = function (){
            !this.checked ? (span.style.textDecoration = '') : (span.style.textDecoration = 'line-through')

           }
       };

    
           check1.onclick = function (){
           
               !this.checked ? (span.style.textDecoration = '') : (span.style.textDecoration = 'line-through')

           }

       
       function deleteItem() {
        var deletNode = document.querySelectorAll("li>.deletEl");
        // 删除
        for (var i = 0; i < deletNode.length; i++) {
          (function (i) {
            var x = i;
            deletNode[x].onclick = function () {
              var prent = deletNode[x].parentNode;
              prent.remove();
            };
          })(i);
        }
      }

      
    

    </script>
</body>
</html>